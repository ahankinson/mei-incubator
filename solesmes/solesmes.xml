<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_odds.rng" type="xml"?>
<TEI xmlns:rng="http://relaxng.org/ns/structure/1.0" xmlns:sch="http://purl.oclc.org/dsdl/schematron" xmlns="http://www.tei-c.org/ns/1.0">
  <teiHeader>
    <fileDesc>
      <titleStmt>
        <title>Music Encoding Initiative Guidelines</title>
        <respStmt>
          <resp>Authored by</resp>
          <name xml:id="AH">Andrew Hankinson</name>
          <name xml:id="PR">Perry Roland</name>
        </respStmt>
      </titleStmt>
      <publicationStmt>
        <p/>
      </publicationStmt>
      <sourceDesc>
        <p/>
      </sourceDesc>
    </fileDesc>
  </teiHeader>
  <text>
    <front>
      <divGen type="toc"/>
    </front>
    <body>
      <schemaSpec ident="mei" start="mei meihead meicorpus music" ns="http://www.music-encoding.org/ns/mei">
        <moduleRef key="mei"/>
        <moduleRef key="MEI.layout"/>
        <moduleRef key="MEI.shared"/>
        <moduleRef key="MEI.header"/>
        <moduleRef key="MEI.cmn"/>
        <moduleRef key="MEI.mensural"/>
        <moduleRef key="MEI.neumes"/>
        <moduleRef key="MEI.analysis"/>
        <moduleRef key="MEI.cmnOrnaments"/>
        <moduleRef key="MEI.corpus"/>
        <moduleRef key="MEI.critapp"/>
        <moduleRef key="MEI.edittrans"/>
        <moduleRef key="MEI.facsimile"/>
        <moduleRef key="MEI.figtable"/>
        <moduleRef key="MEI.harmony"/>
        <moduleRef key="MEI.linkalign"/>
        <moduleRef key="MEI.lyrics"/>
        <moduleRef key="MEI.midi"/>
        <moduleRef key="MEI.namesdates"/>
        <moduleRef key="MEI.performance"/>
        <moduleRef key="MEI.ptrref"/>
        <moduleRef key="MEI.tablature"/>
        <moduleRef key="MEI.text"/>
        <moduleRef key="MEI.usersymbols"/>
        <moduleRef key="MEI.solesmes" />
        
        <classSpec ident="att.solesmes.episema" type="atts" mode="add">
          <desc>Episemae are stress indicators for notes.</desc>
          <attList>
            <attDef ident="form" usage="opt">
              <desc></desc>
              <valList type="closed">
                <valItem ident="horizontal" />
                <valItem ident="vertical" />
              </valList>
            </attDef>
          </attList>
        </classSpec>

        <classSpec ident="att.solesmes.division" type="atts" mode="add">
          <desc>Divisions are breath and phrasing indicators.</desc>
          <attList>
            <attDef ident="form" usage="opt">
              <desc>Types of divisions. The "comma" is included since it is in the same family.</desc>
              <valList type="closed">
                <valItem ident="comma" />
                <valItem ident="major" />
                <valItem ident="minor" />
                <valItem ident="small" />
                <valItem ident="final" />
              </valList>
            </attDef>
          </attList>
        </classSpec>
        

        <classSpec ident="att.solesmes.neumes" type="atts" mode="add">
          <attList>
            <attDef ident="name" usage="opt">
              <desc>Neume names taken primarily from the Liber Hymnarius, p. xii, except where the neume
                form given in this table may be represented with a different representation, e.g.,
                a "podatus initia debilis" may be represented as a podatus with an initial deminutae.
                
                This also accepts freeform neume names. This is used for when a neume is known by a name, but
                it may not appear on this list.
              </desc>
              <valList type="semi">
                <valItem ident="punctum" />
                <valItem ident="virga" />
                <valItem ident="cavum" />
                <valItem ident="apostropha" />
                <valItem ident="oriscus" />
                <valItem ident="podatus" />
                <valItem ident="clivis" />
                <valItem ident="torculus" />
                <valItem ident="porrectus" />
                <valItem ident="scandicus" />
                <valItem ident="salicus" />
              </valList>
            </attDef>
            <attDef ident="variant" usage="opt">
              <desc>Used to capture a neume variant from the primary neume names. For example "punctum inclinatum"</desc>
            </attDef>
          </attList>
        </classSpec>
        
        <classSpec ident="att.solesmes.notes" type="atts" mode="add">
          <attList>
            <attDef ident="auc" usage="opt">
              <desc></desc>
              <valList type="closed">
                <valItem ident="asc" />
                <valItem ident="desc" />
              </valList>
            </attDef>
            <attDef ident="dem" usage="opt">
              <desc></desc>
              <datatype>
                <rng:ref name="data.BOOLEAN" />
              </datatype>
            </attDef>
            <attDef ident="quil" usage="opt">
              <desc></desc>
              <datatype>
                <rng:ref name="data.BOOLEAN" />
              </datatype>
            </attDef>
          </attList>
        </classSpec>
        
        <elementSpec ident="episema" module="MEI.solesmes" mode="add">
          <classes>
            <memberOf key="att.common"/>
            <memberOf key="att.facsimile"/>
            <memberOf key="att.solesmes.episema" />
          </classes>
        </elementSpec>
        
        <elementSpec ident="division" module="MEI.solesmes" mode="add">
          <classes>
            <memberOf key="att.common"/>
            <memberOf key="att.facsimile"/>
            <memberOf key="att.solesmes.division" />
          </classes>
        </elementSpec>
        
        <elementSpec ident="neume" module="MEI.solesmes" mode="add">
          <desc>Identifies a recognized group of pitches that are known as belonging to a single group. This
            is used instead of the earlier "ineume" and "uneume" grouping.
            
            Neumes may be nested, so it is possible to, for example, construct a neume from a number of
            sub-neume components. This is useful in situations where there is no pre-determined name
            for a given figure, i.e., compound neumes.
            
            As well, neume allows ligature elements as children. Ligatures may be either "recta" or "obliqua." In practice
            most neumes are "recta" so it may be safe to omit any ligature element. However, in compound neume cases it can 
            be useful to precisely spell out the forms that are given.
          </desc>
          <classes>
            <memberOf key="att.common"/>
            <memberOf key="att.facsimile"/>
            
            <memberOf key="att.solesmes.neumes" />
          </classes>
        </elementSpec>
        
        <!-- duplicating note for now -->
        <elementSpec ident="note" module="MEI.shared" mode="replace">
          <desc>note ― A single pitched event. (Read, p. 63) The note element is allowed to contain other events for situations where a single (usually
            ornamented) written note is representative of a group of performed notes. The accid and artic sub-elements may be used instead of the note element's
            attributes when accid and artic represent first-class objects, e.g., when they require attributes, such as x and y location attributes. Similarly, the
            syl sub-element may be used instead of the syl attribute. The verse sub-element may be used to group text syllables by verse. The colored attribute
            may be used to indicate coloration. In the mensural repertoire, coloration is a temporary change in the underlying mensuration from perfect to
            imperfect. In the CMN repertoire, coloration is an inversion of the note head's normal rendition, that is, the notehead is void when it would
            otherwise be filled and vice versa. Do not confuse this with visual color.</desc>
          <classes>
            <memberOf key="att.common"/>
            <memberOf key="att.facsimile"/>
            <memberOf key="att.note.log"/>
            <memberOf key="att.note.vis"/>
            <memberOf key="att.note.ges"/>
            <memberOf key="att.note.anl"/>
            <memberOf key="model.eventLike"/>
            
            <memberOf key="att.solesmes.notes" />
          </classes>
          <content>
            <rng:zeroOrMore>
              <rng:choice>
                <rng:ref name="model.eventLike"/>
                <rng:ref name="model.noteModifierLike"/>
                <rng:ref name="model.verseLike"/>
                <rng:ref name="model.sylLike"/>
                <rng:ref name="model.appLike"/>
                <rng:ref name="model.editLike"/>
                <rng:ref name="model.transcriptionLike"/>
              </rng:choice>
            </rng:zeroOrMore>
          </content>
          <constraintSpec ident="Check_instr" scheme="isoschematron">
            <constraint>
              <sch:rule context="mei:note[@instr]">
                <sch:assert test="every $i in tokenize(@instr, '\s+') satisfies
                  $i=preceding::mei:instrdef[@xml:id]/@xml:id"/>
              </sch:rule>
            </constraint>
          </constraintSpec>
        </elementSpec>
        
        <!-- duplicating ligature for now -->
        <elementSpec ident="ligature" module="MEI.shared" mode="replace">
          <desc>ligature ― A notation symbol that combines two or more notes into a single sign. The rhythmic meaning of the components of a ligature is
            typically contextual, not absolute; therefore, an interpretative duration may be encoded on each of the components using either the dur.ges attribute
            or the num and numbase attribute pair. The &lt;ligature&gt; element should *not* be used for brackets in modern notation that indicate notes that were
            part of a ligature in the original source.</desc>
          <classes>
            <memberOf key="att.common"/>
            <memberOf key="att.facsimile"/>
            <memberOf key="att.ligature.log"/>
            <memberOf key="att.ligature.vis"/>
            <memberOf key="att.ligature.ges"/>
            <memberOf key="att.ligature.anl"/>
            <memberOf key="model.eventLike.mensural"/>
          </classes>
          <content>
            <rng:zeroOrMore>
              <rng:ref name="model.layerPart"/>
            </rng:zeroOrMore>
          </content>
        </elementSpec>
      </schemaSpec>
      
    </body>
  </text>
</TEI>
